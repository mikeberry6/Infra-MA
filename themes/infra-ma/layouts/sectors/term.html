{{ define "main" }}
{{ $sectorKey := .Data.Singular }}
{{ $sectorColor := "" }}
{{ if eq .Title "energy" }}{{ $sectorColor = "var(--color-energy)" }}
{{ else if eq .Title "transport" }}{{ $sectorColor = "var(--color-transport)" }}
{{ else if eq .Title "digital" }}{{ $sectorColor = "var(--color-digital)" }}
{{ else if eq .Title "water" }}{{ $sectorColor = "var(--color-water)" }}
{{ else if eq .Title "social" }}{{ $sectorColor = "var(--color-social)" }}
{{ end }}

<div class="sector-term-page">
  <div class="sector-hero sector-hero--{{ .Title | urlize }}" {{ with $sectorColor }}style="border-left-color: {{ . }}"{{ end }}>
    <span class="sector-badge sector-badge--{{ .Title | urlize }}">{{ .Title }}</span>
    <h1 class="sector-hero__name">{{ .Title | title }} Infrastructure</h1>
    <div class="sector-stats">
      <div class="sector-stat">
        <span class="sector-stat__value">{{ len .Pages }}</span>
        <span class="sector-stat__label">Total Deals</span>
      </div>
    </div>
  </div>

  <h2 class="section__title">Deals in {{ .Title | title }}</h2>
  <div class="deal-grid">
    {{ range .Pages.ByDate.Reverse }}
    {{ partial "deal-card.html" . }}
    {{ end }}
  </div>

  <div class="sector-cta">
    <a href="{{ "deals/" | relURL }}?sector={{ .Title }}" class="btn btn--accent">View in Full Table &rarr;</a>
  </div>
</div>
{{ end }}
